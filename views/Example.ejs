<!DOCTYPE html>
<html>

<head>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 70px;
            padding: 40px
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 30px 0px;

        }

        table,
        th,
        td {
            border: 1px solid #000;
        }

        th,
        td {
            padding: 8px;
            text-align: left;
        }


        .div-1 {

            margin-bottom: 50px;
        }

        .div-2 {

            margin-bottom: 50px;
        }

        .div-3 {

            margin-bottom: 50px;
        }

        .div-4 {

            position: absolute;
            top: 117%;
            margin-bottom: 50px;
        }

        .logo-img {
            display: inline-block;
            padding: 0;
            width: 140px;
            height: 140px;
        }

        h1 {
            display: inline-block;
            position: absolute;
            top: 19%;
            right: 100px;

        }

        .bold-p {
            margin: 0;
            font-size: 22px;
            font-weight: bold;
            font-style: unset;
        }

        .div-3 {
            position: absolute;
            right: 100px;

        }

        .subtotal-div {
            width: 297px;
            position: absolute;
            right: 76px;

        }

        .subtotal-div-1 p {
            display: inline-block;
        }

        .subtotal-div-2 p {
            display: inline-block;
        }

        .subtotal-div-3 p {
            display: inline-block;
        }

        .bill-hr {
            margin-right: 0;
            width: 327px;
        }

        .bill-info {
            display: inline-block;
        }

        .invoice-info {
            display: inline-block;
            position: absolute;
            right: 110px;
            top: 330px;
        }

        h2 {
            position: absolute;
            top: 140%;
            right: 103px;

        }

        .margin-p {
            margin-left: 187px;
        }

        .margin-p2 {
            margin-left: 210px;
        }

        .payment-info {
            display: inline-block;
        }

        .owner-info {
            display: inline-block;
        }

        .status {
            color: green;
        }

        .header-h2 {
            display: inline-block;
            align-self: center;
            position: absolute;
            margin: 57px 0;
        }
    </style>
    <title>Hello</title>

</head>

<body>
    <div class="div-1">
        <div class="header-div">
            <img class="logo-img"
                src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQdW645Q3eUy8Cp7s4sSJc51UqWq1ZXZzobNw&usqp=CAU"
                alt="not Found">
            <h3 class="header-h2">BookStore</h3>
        </div>
        <h1>Invoice</h1>
    </div>

    <div class="div-2">
        <div class="bill-info">
            <p class="bold-p"> Billed To:</p>
            <p>Name : <%= invoiceData.username %>
            </p>
            <p>Email : <%= invoiceData.email %>
            </p>

        </div>
        <div class="invoice-info">
            <p>Invoice Number : <%= parseInt(randomnumber) %></p>
            <p>Invoice Date   : <%= date %></p>
        </div>
    </div>

    <table>
        <thead>
            <tr>
                <th>Description</th>
                <th>Quantity</th>
                <th>Unit Price</th>
                <th>Total</th>
            </tr>
        </thead>
        <tbody>
            <% invoiceData.cart.forEach(item=> { %>
                <tr>
                    <td>
                        <%= item.bookname %>
                    </td>
                    <td>
                        <%= item.quantity %>
                    </td>
                    <td>
                        <%= item.price %>&dollar;
                    </td>
                    <td>
                        <%= item.quantity * item.price %>&dollar;
                    </td>
                </tr>
                <% }); %>
        </tbody>
    </table>
    <% var sum=0; %>

        <% if (locals.books) { %>
            <% for (var i=0; i <books.length; i++) { %>
                <% sum=sum + parseInt(books[i].price)*books[i].quantity; %>
                    <% } %>
                        <% } %>

                            <% var Tax=0; %>
                                <% Tax=(sum*0.18) %>
                                    <div class="div-3">
                                        <div class="subtotal-div-1">
                                            <p>Subtotal</p>
                                            <p class="margin-p bold-p">
                                                <%= sum %>&dollar;
                                            </p>
                                        </div>
                                        <div class="subtotal-div-2">
                                            <p>TaX(18%)</p>
                                            <p class="margin-p bold-p">
                                                <%= parseInt(Tax) %>&dollar;
                                            </p>
                                        </div>
                                        <hr class="bill-hr">
                                        <div class="subtotal-div-3">
                                            <p>Total</p>
                                            <p class="margin-p bold-p">
                                                <%= Tax+sum %>&dollar;
                                            </p>
                                        </div>
                                    </div>


                                    <div class="div-4">
                                        <div class="payment-info">
                                            <p class="bold-p">PAYMENT INFORMATION</p>
                                            <P>PayPal Bank</P>
                                            <% if (locals.paymentdata) { %>
                                                <P>Account No : <%= locals.paymentdata.id %>
                                                </P>
                                                <P>Account Name : <%= locals.paymentdata.payer.payer_info.first_name %>
                                                </P>
                                                <p>pay by : <%= date %>
                                                </p>
                                                <p>Status :<span class="status">Completed</span></p>
                                                <% } %>

                                        </div>
                                    </div>
                                    <div class="invoice-total">
                                        <h2>Thank you!</h2>

                                    </div>
</body>

</html>